<main class="form-container">
  <h1><%= title %></h1>

  <% if (message) { %>
    <div class="notice"><%= message %></div>
  <% } %>

  <% if (errors && errors.length > 0) { %>
    <div class="error-list">
      <ul>
        <% errors.forEach(function(error) { %>
          <li><%= error %></li>
        <% }) %>
      </ul>
    </div>
  <% } %>

  <form action="/account/register" method="post">
    <label for="account_firstname">First Name</label>
    <input
      type="text"
      id="account_firstname"
      name="account_firstname"
      required
      value="<%= typeof account_firstname != 'undefined' ? account_firstname : '' %>"
    >

    <label for="account_lastname">Last Name</label>
    <input
      type="text"
      id="account_lastname"
      name="account_lastname"
      required
      value="<%= typeof account_lastname != 'undefined' ? account_lastname : '' %>"
    >

    <label for="account_email">Email</label>
    <input
      type="email"
      id="account_email"
      name="account_email"
      required
      value="<%= typeof account_email != 'undefined' ? account_email : '' %>"
    >

    <label for="account_password">Password</label>
    <div class="password-wrapper">
      <input
        type="password"
        id="account_password"
        name="account_password"
        required
        pattern="(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{12,}"
        title="Minimum 12 characters, at least 1 capital letter, 1 number, and 1 special character"
      />

      <button type="button" onclick="togglePassword()" class="toggle-btn">Show</button>
    </div>

    <button type="submit" class="submit-btn">Register</button>
  </form>
</main>

<script>
  function togglePassword() {
    const passwordInput = document.getElementById("account_password");
    const toggleBtn = document.querySelector(".toggle-btn");
    if (passwordInput.type === "password") {
      passwordInput.type = "text";
      toggleBtn.textContent = "Hide";
    } else {
      passwordInput.type = "password";
      toggleBtn.textContent = "Show";
    }
  }
</script>